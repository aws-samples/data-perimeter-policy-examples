# Service-owned resources

Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. SPDX-License-Identifier: CC-BY-SA-4.0

## Description
The following table contains service-owned resources that AWS services use to perform actions on your behalf:
* The *Resource type* column contains the resource type of a service-owned resource. 
* The *Resource owner* column contains the name of a service that uses the service-owned resource to support its operations.
* The *Resource ARN* column contains the ARN format of the service-owned resource.
* The *Description* column contains information about the feature that require access to service-owned resources specified in the *Resource ARN* column. If your users and applications are using the described feature, policies listed in the *Policy example* column must allow access to the service-owned resources.
* The *Policy example* column contains links to policy examples that allow access to service-owned resources specified in the *Resource ARN* column. <br /> * VPC endpoint policies must allow access only when you access AWS services through AWS PrivateLink.

## List of resources

| Resource type | Resource owner | Resource ARN | Description | Policy example|
|------|------|-----------|-----------------------|------|
| Amazon EC2 Image Builder component | Amazon EC2 Image Builder | `arn:aws:imagebuilder:*:aws:component/*`| Image Builder maintains [managed components owned by Amazon](https://docs.aws.amazon.com/imagebuilder/latest/userguide/use-managed-components.html) that you can use to customize or test your images. If you are using service-owned components in your image or container recipes, the [AWS Task Orchestrator and Executor (AWSTOE)](https://docs.aws.amazon.com/imagebuilder/latest/userguide/toe-component-manager.html) component management application running on Amazon EC2 instances uses an instance profile to access these components. See [How Image Builder works with IAM policies and roles](https://docs.aws.amazon.com/imagebuilder/latest/userguide/security_iam_service-with-iam.html#sec-iam-ib-id-based-policies-resources) and [Image Builder and AWS PrivateLink interface VPC endpoints](https://docs.aws.amazon.com/imagebuilder/latest/userguide/vpc-interface-endpoints.html) for more details.| [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[imagebuilder_endpoint_policy.json](vpc_endpoint_policies/imagebuilder_endpoint_policy.json) | 
| Amazon EC2 Image Builder image | Amazon EC2 Image Builder	| `arn:aws:imagebuilder:*:aws:image/*`	| Image Builder maintains [managed Image Builder images owned by Amazon](https://docs.aws.amazon.com/imagebuilder/latest/userguide/manage-images.html) that you can use as base images for your recipes. If you are using service-owned images, the AWSTOE uses an instance profile to retrieve these images to set up and boot an EC2 instance. See [How Image Builder works with IAM policies and roles](https://docs.aws.amazon.com/imagebuilder/latest/userguide/security_iam_service-with-iam.html#sec-iam-ib-id-based-policies-resources) and [Image Builder and AWS PrivateLink interface VPC endpoints](https://docs.aws.amazon.com/imagebuilder/latest/userguide/vpc-interface-endpoints.html) for more details.| [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[imagebuilder_endpoint_policy.json](vpc_endpoint_policies/imagebuilder_endpoint_policy.json) | 
| Amazon EC2 image	| Amazon Elastic Compute Cloud (Amazon EC2)	| `arn:aws:ec2:*::image/*`	| Amazon EC2 maintains [Amazon Machine Image (AMIs) owned by Amazon](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/sharing-amis.html) that you can use to launch an Amazon EC2 instance or update the EBS-backed root volume of the instance. See [Launch instances (RunInstances)](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ExamplePolicies_EC2.html#iam-example-runinstances) for more details.| [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[ec2_endpoint_policy.json](vpc_endpoint_policies/ec2_endpoint_policy.json)* | 
| Amazon EC2 prefix list | Amazon EC2 | `arn:aws:ec2:*:aws:prefix-list/*`| Amazon EC2 maintains [AWS-managed EC2 prefix lists](https://docs.aws.amazon.com/vpc/latest/userguide/working-with-aws-managed-prefix-lists.html) which are sets of IP ranges for AWS services you can use to simplify referencing service IPs when configuring security groups and other VPC network controls.| [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[ec2_endpoint_policy.json](vpc_endpoint_policies/ec2_endpoint_policy.json)* | 
| Amazon Elastic Container Registry (Amazon ECR) repository	| Multiple	| `arn:aws:ecr:*:<service-account-id>:repository/*`	| Services such as  Amazon Elastic Kubernetes Service (Amazon EKS), Amazon GuardDuty, and Amazon SageMaker maintain container images owned by Amazon in Amazon ECR repositories. For example, [Amazon Elastic Kubernetes Service (Amazon EKS) add-ons](https://docs.aws.amazon.com/eks/latest/userguide/eks-add-ons.html), [GuardDuty EKS Runtime Monitoring](https://docs.aws.amazon.com/guardduty/latest/ug/guardduty-eks-runtime-monitoring.html), and [Amazon SageMaker pre-built Docker images](https://docs.aws.amazon.com/sagemaker/latest/dg-ecr-paths/sagemaker-algo-docker-registry-paths.html). These repositories are accessed by using the service roles, such as roles of your EKS nodes, EKS managed node groups, and SageMaker notebooks. See [View Amazon container image registries for Amazon EKS add-ons](https://docs.aws.amazon.com/eks/latest/userguide/add-ons-images.html), [Amazon ECR repository hosting GuardDuty agent](https://docs.aws.amazon.com/guardduty/latest/ug/runtime-monitoring-ecr-repository-gdu-agent.html), and [Docker Registry Paths and Example Code](https://docs.aws.amazon.com/sagemaker/latest/dg-ecr-paths/sagemaker-algo-docker-registry-paths.html) for more details.  `<service-account-id>` can vary by AWS Region, and you might need to allow multiple account IDs if you are operating in multiple Regions. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[ecr.api_endpoint_policy.json](vpc_endpoint_policies/ecr.api_endpoint_policy.json) | 
| Amazon S3 bucket	| AWS Service Catalog | `arn:aws:s3:::sc-<product-identifier>-<region>/*` | AWS Service Catalog stores the CloudFormation template in an Amazon S3 bucket owned by the service account, when you create your products. When you provision the product, Service Catalog downloads the template from the bucket using [forward access sessions (FAS)](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_forward_access_sessions.html). See [Creating Products](https://docs.aws.amazon.com/servicecatalog/latest/adminguide/productmgmt-cloudresource.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)* | 
| Amazon S3 bucket	| AWS Data Exchange | `arn:aws:s3:::<unique-identifier>aws-data-exchange<unique-identifier>` | AWS Data Exchange writes to AWS Data Exchange Amazon S3 buckets, when importing assets from Amazon S3 to AWS Data Exchange ([publishing](https://docs.aws.amazon.com/data-exchange/latest/userguide/providing-data-sets.html)). Similarly, when exporting assets from AWS Data Exchange to Amazon S3 ([subscribing](https://docs.aws.amazon.com/data-exchange/latest/userguide/subscribe-to-data-sets.html)), AWS Data Exchange reads from AWS Data Exchange Amazon S3 buckets. AWS Data Exchange uses FAS to access the buckets on behalf of the user performing import and export operations. See [Access control](https://docs.aws.amazon.com/data-exchange/latest/userguide/access-control.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br /> [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)* |  
| Amazon S3 bucket | AWS Glue | `arn:aws:s3:::aws-glue-studio-transforms-<service-account-id>-prod-<region>/*`	| AWS Glue Studio uses Amazon S3 buckets owned by the service account to store source code for transformations accessible via the AWS Glue Studio visual editor. AWS Glue uses its service role to make requests to the buckets. See [Review IAM permissions needed for ETL jobs](https://docs.aws.amazon.com/glue/latest/dg/getting-started-min-privs-job.html) for more details. `<service-account-id>` can vary by AWS Region, and you might need to allow multiple account IDs if you are operating in multiple Regions. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) | 
| Amazon S3 bucket	| AWS Elastic Beanstalk | `arn:aws:s3:::elasticbeanstalk-samples-<region>/*`<br /><br /> `arn:aws:s3:::elasticbeanstalk-platform-assets-<region>/*`<br /><br />	`arn:aws:s3:::elasticbeanstalk-env-resources-<region>/*`<br /><br />`arn:aws:s3:::elasticbeanstalk-<region>/*`| AWS Elastic Beanstalk uses service-owned Amazon S3 buckets to host the configuration files, the sample application, and available instance types used while creating and configuring your environment. Elastic Beanstalk uses its service role to make requests to the buckets. See [Required Amazon S3 bucket permissions for restrictive VPC endpoint policies](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/vpc-vpce.policy.html#AWSHowTo.S3.VPCendpoints) for more details. Note that the bucket name follows a different convention for the BJS region. The string `public-beta-cn-north-1` is used in place of `<region>`. For example, `arn:aws:s3:::elasticbeanstalk-platform-assets-public-beta-cn-north-1`. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |  
| Amazon S3 bucket	| Amazon CloudWatch	| `arn:aws:s3:::aws-synthetics-library-<unique-identifier>`	| Amazon CloudWatch uses service-owned Amazon S3 buckets to host a library that contains the versions of CloudWatch Synthetics for canaries. CloudWatch uses its service role to make requests to the buckets. See [Required roles and permissions for CloudWatch canaries](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch_Synthetics_Canaries_Roles.html). | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json) |  
| Amazon S3 bucket	| Amazon SageMaker JumpStart | `arn:aws:s3:::jumpstart-cache-prod-<region>/*`<br /><br />`arn:aws:s3:::jumpstart-cache-prod-<region>`	| Amazon SageMaker JumpStart uses service-owned Amazon S3 bucket to host pretrained, open-source models for a wide range of problem types to help you get started with machine learning. SageMaker Jumpstart uses its service role to make requests to the bucket. See [Model deployment security](https://docs.aws.amazon.com/sagemaker/latest/dg/jumpstart-deploy.html#jumpstart-config-security) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)|  
| Amazon S3 bucket	| Amazon Neptune | `arn:aws:s3:::aws-neptune-notebook`<br /><br />`arn:aws:s3:::aws-neptune-notebook/*`<br /><br />`arn:aws:s3:::aws-neptune-notebook-<region>`<br /><br />`arn:aws:s3:::aws-neptune-notebook-<region>/*` | Amazon Neptune service uses service-owned Amazon S3 buckets to host installation and configuration scripts as convenience utilities to help streamline Neptune setup process. Amazon Neptune uses service role to make requests to these service-owned S3 buckets. See [Using Amazon Neptune with graph notebooks](https://docs.aws.amazon.com/neptune/latest/userguide/graph-notebooks.html#graph-notebooks-workbench) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)|  
| Amazon S3 bucket	| AWS CloudFormation | `arn:aws:s3:::cloudformation-custom-resource-response-<RegionWithoutDashes>/*`<br /><br />`arn:aws:s3:::cloudformation-waitcondition-<region>/*`| AWS CloudFormation maintains Amazon Simple Storage Service (Amazon S3) service-owned buckets in each AWS Region to monitor responses to a [custom resource](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html) request or a [wait condition](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html). CloudFormation uses the `cloudformation.amazonaws.com` service principal to create a presigned Amazon S3 URL, which is used to send requests to Amazon S3. If your CloudFormation template includes custom resources deployed in a VPC or wait conditions for resources deployed in your VPC, requests to Amazon S3 originate from your VPC. See [Access CloudFormation using an interface endpoint (AWS PrivateLink)](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/vpc-interface-endpoints.html) for more details. Note that `<RegionWithoutDashes>` does not contain dashes, for example, uswest2 instead of us-west-2.  | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |  
| Amazon S3 bucket	| Amazon Q Developer | `arn:aws:s3:::amazonq-code-scan-<region>-<unique-identifier>`<br /><br /> `arn:aws:s3:::amazonq-code-transformation-<region>-<unique-identifier>`<br /><br /> `arn:aws:s3:::amazonq-feature-development-<region>-<unique-identifier>`<br /><br />`arn:aws:s3:::amazonq-test-generation-<region>-<unique-identifier`| Amazon Q Developer uploads artifacts to service-owned S3 buckets to deliver its functionality. Amazon Q Developer uses the `q.amazonaws.com` service principal to create a presigned Amazon S3 URL, which is used to send requests to Amazon S3. See [Amazon S3 bucket URLs and ARNs to allowlist](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/firewall.html#data-perimeters) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |  
| Amazon S3 bucket	| Amazon Elastic Compute Cloud (Amazon EC2) | `arn:aws:s3:::packages.<region>.amazonaws.com/*`<br /><br />`arn:aws:s3:::repo.<region>.amazonaws.com/*`<br /><br />`arn:aws:s3:::amazonlinux.<region>.amazonaws.com/*`<br /><br />`arn:aws:s3:::amazonlinux-2-repos-<region>/*`| Kernel Live Patching on Amazon Linux 2 allows you to apply security vulnerability and critical bug patches to a running Linux kernel. To download packages from Amazon Linux repositories hosted on service-owned Amazon S3 buckets, Amazon EC2 makes an unauthenticated call to Amazon S3 which originates from your VPC. See [Kernel Live Patching on AL2](https://docs.aws.amazon.com/linux/al2/ug/al2-live-patching.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket	| Amazon EC2 | `arn:aws:s3:::al2023-<region>/*`<br /><br />`arn:aws:s3:::al2023-repos-<region>-de612dc2/*`| Kernel Live Patching on Amazon Linux 2023 allows you to apply security vulnerability and critical bug patches to a running Linux kernel. To download packages from Amazon Linux repositories hosted on service-owned Amazon S3 buckets, Amazon EC2 makes an unauthenticated call to Amazon S3 which originates from your VPC. See [Kernel Live Patching on Amazon Linux 2023](https://docs.aws.amazon.com/linux/al2023/ug/live-patching.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket	| Amazon EMR | `arn:aws:s3:::packages.<region>.amazonaws.com/*`<br /><br />`arn:aws:s3:::repo.<region>.amazonaws.com/*`<br /><br />`arn:aws:s3:::amazonlinux.<region>.amazonaws.com/*`<br /><br />`arn:aws:s3:::amazonlinux-2-repos-<region>/*`<br /><br />`arn:aws:s3:::repo.<region>.emr.amazonaws.com/*`<br /><br />`arn:aws:s3:::prod.<region>.appinfo.src/*`| Amazon EMR uses Amazon Linux repositories that are hosted in service-owned S3 buckets to [launch and manage instances within Amazon EMR clusters](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-default-ami.html). Amazon EMR also collects [Spark event logs](https://docs.aws.amazon.com/emr/latest/ManagementGuide/app-history-spark-UI.html) in an service-owned system bucket. To do so, Amazon EMR makes unauthenticated calls to Amazon S3 which originate from your VPC. See [Sample policies for private subnets that access Amazon S3](https://docs.aws.amazon.com/emr/latest/ManagementGuide/private-subnet-iampolicy.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Systems Manager | `arn:aws:s3:::aws-ssm-<region>/*`<br /><br />`arn:aws:s3:::aws-windows-downloads-<region>/*`<br /><br />`arn:aws:s3:::amazon-ssm-<region>/*`<br /><br />`arn:aws:s3:::amazon-ssm-packages-<region>/*`<br /><br />`arn:aws:s3:::<region>-birdwatcher-prod/*`<br /><br />`arn:aws:s3:::aws-ssm-distributor-file-<region>/*`<br /><br />`arn:aws:s3:::aws-ssm-document-attachments-<region>/*`<br /><br />`arn:aws:s3:::patch-baseline-snapshot-<region>/*`<br /><br />`arn:aws:s3:::aws-patchmanager-macos-<region>/*`| When using AWS Systems Manager capabilities such as patching, [SSM Agent](https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html) running on your Amazon EC2 instances could make unauthenticated requests from your VPC to various service-owned S3 buckets to perform its operations. See [Learn technical details about the SSM Agent](https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent-technical-details.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | Amazon CloudWatch | `arn:aws:s3:::amazoncloudwatch-agent-<region>/*`<br /><br />`arn:aws:s3:::amazoncloudwatch-agent/*`| When you install the Amazon CloudWatch agent on your Amazon EC2 instances, Amazon EC2 makes an unauthenticated call from your network to Amazon S3 to download the package from a service-owned S3 bucket. See [Download the CloudWatch agent package](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/download-cloudwatch-agent-commandline.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS CodeDeploy | `arn:aws:s3:::aws-codedeploy-<region>/*` | When you install the AWS CodeDeploy agent on your Amazon EC2 instances, Amazon EC2 makes an unauthenticated call from your network to Amazon S3 to download the agent from an service-owned S3 bucket. See [Configure an Amazon EC2 instance to work with CodeDeploy](https://docs.aws.amazon.com/codedeploy/latest/userguide/instances-ec2-configure.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | EC2 Image Builder | `arn:aws:s3:::ec2imagebuilder-toe-<region>-prod/*`<br /><br />`arn:aws:s3:::ec2imagebuilder-managed-resources-<region>-prod/components/*`| EC2 Image Builder uses a publicly available S3 bucket to store and access managed resources, such as components. It also downloads the AWSTOE component management application from a separate S3 bucket. The call to Amazon S3 is unauthenticated and passes through the Amazon S3 VPC endpoint.  See [Manage data perimeters](https://docs.aws.amazon.com/imagebuilder/latest/userguide/security-iam-data-perimeter.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Cloud9 | `arn:aws:s3:::static-<region>-prod-static-<string>/content/dependencies/*` |  AWS Cloud9 environments contain software packages required for AWS Cloud9 to function and support IDE features. To [download patches for these software packages](https://docs.aws.amazon.com/cloud9/latest/user-guide/vulnerability-analysis-and-management.html) from AWS Cloud9 repositories hosted on service-owned S3 buckets, AWS Cloud9 makes an unauthenticated call to Amazon S3 from your VPC. See [Create and configure a VPC endpoint for Amazon S3](https://docs.aws.amazon.com/cloud9/latest/user-guide/ec2-ssm.html#create-s3-endpoint) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | Amazon Elastic Container Registry | `arn:aws:s3:::prod-<region>-starport-layer-bucket/*` | Amazon ECR uses service-owned S3 buckets to store Amazon ECR private image layers. When your containers download images from Amazon ECR, they must access Amazon ECR to get the image manifest and then Amazon S3 to download the actual image layers. A call to Amazon S3 is signed using a presigned URL, which is created by an Amazon ECR account and originates from your VPC. See [Minimum Amazon S3 Bucket Permissions for Amazon ECR](https://docs.aws.amazon.com/AmazonECR/latest/userguide/vpc-endpoints.html#ecr-minimum-s3-perms) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Application Migration Service | `arn:aws:s3:::aws-mgn-clients-<region>/*`<br /><br />`arn:aws:s3:::aws-mgn-clients-hashes-<region>/*`<br /><br />`arn:aws:s3:::aws-mgn-internal-<region>/*`<br /><br />`arn:aws:s3:::aws-mgn-internal-hashes-<region>/*`<br /><br />`arn:aws:s3:::aws-application-migration-service-<region>/*`<br /><br />`arn:aws:s3:::aws-application-migration-service-hashes-<region>/*`<br /><br />`arn:aws:s3:::amazon-ssm-<region>/*`|[AWS Replication Agent](https://docs.aws.amazon.com/mgn/latest/ug/agent-installation.html) allows you to add source servers to the AWS Application Migration service to monitor their migration lifecycle and data replication state. To download the agent installer and components hosted on service-owned S3 buckets, Application Migration Service uses presigned URLs created by an Application Migration Service account and makes calls to Amazon S3 from your VPC. See [Network requirements for Application Migration Service](https://docs.aws.amazon.com/mgn/latest/ug/Network-Requirements.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Elastic Disaster Recovery | `arn:aws:s3:::aws-drs-clients-<region>/*`<br /><br />`arn:aws:s3:::aws-drs-clients-hashes-<region>/*`<br /><br />`arn:aws:s3:::aws-drs-internal-<region>/*`<br /><br />`arn:aws:s3:::aws-drs-internal-hashes-<region>/*`<br /><br />`arn:aws:s3:::aws-elastic-disaster-recovery-<region>/*`<br /><br />`arn:aws:s3:::aws-elastic-disaster-recovery-hashes-<region>/*` | Elastic Disaster Recovery uses service-owned S3 buckets to store and access managed resources used to perform its operations. The [AWS Replication Agent installer](https://docs.aws.amazon.com/drs/latest/userguide/agent-installation.html) uses a presigned URL, which is signed by the service account, to make requests to various service-owned S3 buckets, which originate from your VPC. See [Elastic Disaster Recovery network requirements](https://docs.aws.amazon.com/drs/latest/userguide/Network-Requirements.html) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Certificate Manager (ACM) | `arn:aws:s3:::aws-ec2-enclave-certificate-<region>-prod/*` | ACM for AWS Nitro Enclaves uses an service-owned S3 bucket to distribute a certificate to an EC2-hosted web server. See [AWS Certificate Manager for Nitro Enclaves](https://docs.aws.amazon.com/enclaves/latest/user/nitro-enclave-refapp.html#role-cert) for more details. | [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS CodeArtifact | `arn:aws:s3:::assets-<CodeArtifact-Region-Account>-<region>/*` | CodeArtifact uses service-owned S3 buckets to host the artifacts and redirects HTTP requests for an artifact repository URL to a presigned URL backed by one of service-owned buckets. See [Minimum Amazon S3 bucket permissions for AWS CodeArtifact](https://docs.aws.amazon.com/codeartifact/latest/ug/create-s3-gateway-endpoint.html#s3-gateway-endpoint-permissions) for more details| [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Lambda | `arn:aws:s3:::prod-04-2014-tasks/*`<br /><br />`arn:aws:s3:::awslambda-<region>-tasks/*` | AWS Lambda stores function deployment packages in service-owned S3 buckets. Lambda uses its service principal to create a presigned S3 URL, which can be used to download these packages. See [GetFunction](https://docs.aws.amazon.com/cli/latest/reference/lambda/get-function.html) for more details.| [s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)*|
| AWS CloudFormation transform	| AWS CloudFormation | `arn:aws:cloudformation:*:aws:transform/*`	| You can use [AWS CloudFormation transforms](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/transform-reference.html) to process templates through a special macro that can modify or extend the functionality of a CloudFormation template before it is deployed. CloudFormation uses its service role or FAS to make requests to the transforms. See [Control CloudFormation access with AWS Identity and Access Management](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/control-access-with-iam.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[cloudformation_endpoint_policy.json](vpc_endpoint_policies/cloudformation_endpoint_policy.json)* | 
| AWS IAM policy | Multiple  | `arn:aws:iam::aws:policy/*` | You can use [AWS Identity and Access Management (IAM)](https://aws.amazon.com/iam/) [AWS managed policies](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies) to assign appropriate permissions to users, IAM groups, and roles. See [What are AWS managed policies?](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[iam_endpoint_policy](vpc_endpoint_policies/iam_endpoint_policy.json)* |
| AWS Lambda layer	| Multiple	| `arn:aws:lambda:*:<service-account-id>:layer:*`	| Services such as Amazon CloudWatch and AWS AppConfig maintain AWS Lambda extensions owned by Amazon that you can add as layers to you functions. For example, [CloudWatch Lambda Insights](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Lambda-Insights.html) and [AWS AppConfig Agent Lambda extension](https://docs.aws.amazon.com/appconfig/latest/userguide/appconfig-integration-lambda-extensions.html).See [Available versions of the Lambda Insights extension](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Lambda-Insights-extension-versions.html) and [Understanding available versions of the AWS AppConfig Agent Lambda extension](https://docs.aws.amazon.com/appconfig/latest/userguide/appconfig-integration-lambda-extensions-versions.html) for more details. Note that `<service-account-id>` can vary by AWS Region, and you might need to allow multiple account IDs if you are operating in multiple Regions. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[lambda_endpoint_policy](vpc_endpoint_policies/lambda_endpoint_policy.json)* |
| AWS Systems Manager parameter | Multiple  | `arn:aws:ssm:*::parameter/*` | Some AWS services publish information about common artifacts as [AWS Systems Manager public parameters](https://docs.aws.amazon.com/systems-manager/latest/userguide/parameter-store-public-parameters.html). For example, Amazon EC2 publishes information about Amazon Machine Images (AMIs) as public parameters. See [How AWS Systems Manager works with IAM](https://docs.aws.amazon.com/systems-manager/latest/userguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[ssm_endpoint_policy.json](vpc_endpoint_policies/ssm_endpoint_policy.json)* |
| AWS Systems Manager document | Multiple  | `arn:aws:ssm:*::document/*` | Systems Manager maintains pre-configured [documents owned by Amazon](https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-ssm-docs.html) that you can use to automate maintenance and deployment tasks. See [How AWS Systems Manager works with IAM](https://docs.aws.amazon.com/systems-manager/latest/userguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[ssm_endpoint_policy.json](vpc_endpoint_policies/ssm_endpoint_policy.json)* |
| AWS Systems Manager automation definition | Multiple | `arn:aws:ssm:*::automation-definition/*`| 	Systems Manager maintains pre-defined [Automation runbooks owned by Amazon](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-automation.html), such as AWS-ConfigureMaintenanceWindows, that you can use to deploy, configure, and manage AWS resources at scale. See [How AWS Systems Manager works with IAM](https://docs.aws.amazon.com/systems-manager/latest/userguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions) for more details.| [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[ssm_endpoint_policy.json](vpc_endpoint_policies/ssm_endpoint_policy.json)* |
| Amazon S3 bucket | Amazon Athena  | `arn:aws:s3:::athena-examples-<region>` <br /><br />`arn:aws:s3:::athena-examples-<region>/*` | Amazon Athena maintains sample data in a service-owned S3 bucket that you can use for the getting started tutorials.  See [Get Started with Athena](https://docs.aws.amazon.com/athena/latest/ug/getting-started.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS CloudFormation  | `arn:aws:s3:::cloudformation-examples/*` | AWS CloudFormation maintains helper scripts that you can use to install software and start services on an Amazon EC2 instance that you create as part of your stack in a service-owned S3 bucket. See [CloudFormation helper scripts reference](https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/cfn-helper-scripts-reference.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Schema Conversion Tool  | `arn:aws:s3:::awssupportdatasvcs.com/*` <br /><br />`arn:aws:s3:::redshift-downloads/*`| AWS Schema Conversion Tool maintains JDBC drivers in service-owned S3 bucket that you can use for your source and target database engines.  See [Installing JDBC drivers for AWS Schema Conversion Tool](https://docs.aws.amazon.com/SchemaConversionTool/latest/userguide/CHAP_Installing.JDBCDrivers.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)  |
| Amazon S3 bucket | AWS Systems Manager  | `arn:aws:s3:::session-manager-downloads/*` | AWS Systems Manager maintains Session manager plugins in service-owned S3 bucket that you can use for your Session Manager setup.  See [Install the Session Manager plugin](https://docs.aws.amazon.com/systems-manager/latest/userguide/install-plugin-linux.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)  |
| Amazon S3 bucket | AWS Systems Manager  | `arn:aws:s3:::ssm-document-categories/*` | AWS Systems Manager maintains JSON files with document category definitions and metadata used when you view SSM Documents in the Systems Manager console or when using APIs that retrieve document metadata and categories in service-owned S3 bucket. See [Data perimeters in AWS Systems Manager](https://docs.aws.amazon.com/systems-manager/latest/userguide/data-perimeters.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)  |
| Amazon S3 bucket | AWS Data Provider for SAP  | `arn:aws:s3:::aws-sap-data-provider/*` <br /><br />`arn:aws:s3:::aws-sap-dataprovider-<region>/*`| AWS Data Provider for SAP maintains JSON files with document category definitions and metadata in a service-owned S3 bucket used for AWS Launch Wizard startup. See [AWS Launch Wizard userguide](https://docs.aws.amazon.com/launchwizard/latest/userguide/launch-wizard-sap-launch-artifacts-cloudformation.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json) |
| Amazon S3 bucket | AWS Backint Agent for SAP  | `arn:aws:s3:::awssap-backint-agent/*`| AWS Backint maintains installation files in a service-owned S3 bucket that you can use when installing and configuring AWS Backint Agent for SAP HANA. See [Install and configure AWS Backint Agent for SAP HANA](https://docs.aws.amazon.com/sap/latest/sap-hana/aws-backint-agent-s3-installing-configuring.html) for more details. | [resource_perimeter_scp.json](service_control_policies/resource_perimeter_scp.json)<br /><br />[s3_endpoint_policy.json](vpc_endpoint_policies/s3_endpoint_policy.json)  |